(function($) {
    "use strict";

    // Document Ready Function
    $(document).ready(function () {
        // Initialize all carousels and components
        initCarousels();
        initVideoModal();
        initQuantityButtons();
        animateOnScroll();
        updateShoppingLinks();
        
        // Hide spinner when DOM is ready
        setTimeout(function() {
            $('#spinner').removeClass('show');
        }, 500); // Increased timeout to ensure page loads completely
    });

    // Initialize on window load to ensure all assets are loaded
    $(window).on('load', function() {
        // Hide spinner when everything is loaded
        if ($('#spinner').length > 0) {
            $('#spinner').removeClass('show');
        }
    });

    // Back to top button click event
    $('.back-to-top').on('click', function () {
        $('html, body').animate({scrollTop: 0}, 1500, 'easeInOutExpo');
        return false;
    });

    // Function to handle navbar appearance on scroll
    function handleNavbarScroll() {
        handleNavbarScroll();
        handleBackToTopButton();
    });

    // Initialize on window load to ensure all assets are loaded
    $(window).on('load', function() {
        // Hide spinner when everything is loaded
        if ($('#spinner').length > 0) {
            $('#spinner').removeClass('show');
        }
    });

    // Back to top button click event
    $('.back-to-top').on('click', function () {
        $('html, body').animate({scrollTop: 0}, 1500, 'easeInOutExpo');
        return false;
    });

    // Function to handle navbar appearance on scroll
    function handleNavbarScroll() {
        // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
        // er after page loads
    "use strict";

    // Document Ready Function
    $(document)Document Ready Function
    $(document)Document Ready Function
    $(document)Document Ready Function
    $(document).on('on('ready',', function () {
        handleNavbarScroll();
        handleBackToTopButton();
    });

    // Initialize on window load to ensure all assets are loaded
    $(window).on('load', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton( {
        // Hide spinner when everything is loaded
            ifwindowinner').length > 0) {
           $('#spinner').removeClass('show');
         0: {cli 1 },ck event
   
   p').on('click', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton(){{('html, body').animate({scrollTop: 0}, 1500, 'easeInOutExpo');
        r// Function to initialize all carousels 1 },
    function initCarousels() {
        // Testimonial-carousel").length > 0)  { if ($(".teturn false;

        /V Function to handle navbar appearance on scroll
    function handleNavbarScroll() {
        handleNavbarScroll();
        handleBackToTopButton();
    });

    // Initialize on window load to ensure all assets are loaded
    $(window).on('load', function() {
        // Hide spinner when everything is loaded
        if ($('#spinner').length > 0) {$('#spinner').removeClass('show');
               {     576: { items: 1 }, 1 },      0:  1 },{});

                 768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
            });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                ],
                responsiveClass: true,
                responsive:  
  p').on('click', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton )  { $('html, body').animate({scrollTop: 0}, 1500, 'easeInOutEx  r//{ Function to initialize all carousels 2 },
    function initCarousels() {
        // Testimonial-carousel").length > 0) {
          );      if ($(".teturn false;

                    1200: { items: 4             /V Fu

    // Function to handle back to top button visibility
    function handleBackToTopButtonto handle navbar appearance on scroll
    fu

    // Function to handle back to top button visibility
    function handleBackToTopButto handleNavbarScroll() {
            }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal   {     576: { items: 1 }, 1 },      // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
        // Spinner - Hide loading spinner after page loads
            768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                    
                });
        };
    }        // Fruit carousel (if exists)
                   newVal;

            if ($(".fruit-carousel").length > 0) {
                            if ($videoSrc) {
                $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                                  
      ce    nter: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                 576: { items: 1 },
                    1200: { items: 4         768: { items: 2 },
   1 },             responsiveClass: true,
                responsive:             }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal// Function to initialize all carousels
    function initCarousels() {
        // T// Function to initialize all carousels 1 },
    function initCarousels() {
        // Testimonial-carousel").length > 0){{  if ($(".testimonial-carousel").length > 0) {
            if ($videoSrc) {
              );   1 },  if ($(".tsetTion('meout', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton() {
        handleNavbarScroll();
      ;      handleBackToTopButton();

        /V Initialize on window load to ensure all assets are loaded
    $(window).on('load', function() {
                   if ($videoSrc) {
                // Hide spinner when everything is loaded
     // Function to initialize all carousels 2 },
    function initCarousels() {
        // Testimonial-carousel").length > 0)  { items: 1 },
          if  { } 2 }($(".t   if ($('#spinner').length > 0) {
                         576: 1 },{           $('#spinner').removeClass('show');
                       });

      cliVk event
    $('.back-to-top').on('click', fu

            768: { items: 2 },
                            992: { items: 3 },
                    1200: { items: 4 }
                }
                        
            });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                 576: { items: 1 },
                    1200: { items: 4         768: {     992: { items: 2 3 },},
   1 },             responsiveClass: true,
                       }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal responsive: // Function to handle back to top button visibility
    function handleBackToTopButton )  { items: 1 },
        $('html, body').animate({scrollTop: 0}, 1500, 'easeInOutExpo');
        return false;
    // Function to handle navbar appearance on scroll
    function handleNavbarScroll(){{  ifwindowinner').length > 0)  {{ $('#spinner' 1 },).removeClass('show');{  500); // Increased timeout to ensure page loads completely

                768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                        768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                        
                });
        };
    }        // Fruit carousel (if exists)
                    newVal;

            if ($(".fruit-carousel").length > 0) {
            if ($videoSrc) {
                    $(".fruit-carousel").owlCarousel({
                               autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav:         576: { items: 1 },
                        
                1200: { items: 4         768: {     992: { items: 2 3 },},    navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                       }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal0: {      ] 1 },
                responsiveClass: true,
                responsive: }
            });
                
            };
    }        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            if ($videoSrc) {
                if ($videoSrc) {
                $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                    loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                        576: { items: 1 },
                       1200: { items: 4         768: {     992: { items: 2 3 },},    responsiveClass: true,
                   esponsive: // Initialize all carousels and components
                }
                                
                });
        }
        }
    }
    
    // Function to update all shopping cart links
    function updateShoppingLinks() {
        // Update all "Add to cart" buttons to link to cart.html
        $('a.btn.border-secondary').each(function() {
            if ($(this).find('i.fa-shopping-bag').length > 0) {
                $(this).attr('href', 'cart.html');
            }
        });
        
        // Make sure the main shopping bag icon in the navbar links to cart.html
        $('.position-relative.me-4.my-auto').each(function() {
            if ($(this).find('i.fa-shopping-bag').length > 0) {
                $(this).attr('href', 'cart.html');
            }
        });
    }


    // Function to initialize video modal
    function initVideoModal    initCarousels();
        // Function to initialize all carousels
    function initCarousels() {
        // Testimonial-carousel").length > 0) {
                                   {     576: { items: 1 }, 1 },      if ($(".tinitVideoModal();
        initQuantityButtons();
            if ($videoSrc) {
                               // Fix shopping bag links
        updateShoppingLinks(            768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
                })
            };
    }        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            if ($videoSrc) {
                    $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                newVal;

                    dots: true,
                loop: true,
                margin: 25,
                    nav: true,
                       navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                            ],
                        
            responsiveClass: true,
                responsive: }
       // Fixed Navbar - Handle navbar appearance on scroll
    $(window).on('scroll', function () {
        handleNavbarScroll();
        handleBackToTopButton();
     {             }
            });;
            
        }

    // Function to initialize video modal
    function initVideoModal0: { items 1 }, 1 },
    // Initialize on window load to ensure all assets are loaded
    $(window).on('load', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton( {
        // Hide spinner when everything is loaded
            ifwindowinner').length > 0) {
                    $('#spinner').removeClass('show');
                });
  click event
            768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
            });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                    autoplay: true,
                smartSpeed: 1500,
                center: false,
                newVal;

                        dots: true,
                loop: true,
                margin: 25,
                    nav: true,
                   navText: [
            576: { items: 1 },
                                        
            1200: { items: 4         768: {     992: { items: 2 3 },},    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                       }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal0: {      ] 1 },
                responsiveClass: true,
                responsive: 
  p').on('Add animation to elements when they come into view
    function animateOnScroll() {
        $('.featurs-item, .fruite-item, .vesitable-item').each(function() {
            if ($videoSrc) {
                if ($videoSrc) {
            ;    var elementPosition = $(this).offset().top;
                    vartopOfWindow = $(window).scrollTop();
            var windowHeight = $(window).height();
                              
                       if (elementPosition < topOfWindow + windowHeight - 100) {
                         $(this).addClass('animated');
                           newVal;

                0: { }
 1 },
         {     576: { items: 1 },},
    }    }
    
    // Run animation on scroll
    $(window).on('scroll', function() {
        animateOnScroll();
    });
            768: { items: 2 },
                        992: { items: 3 },
                    1200: { items: 4 }
                            }
            
                });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
               0: {      ] 1         576: { items: 1 },
                    1200: { items: 4         768: {     992: { items: 3 },2 },    responsiveClass: true,
                }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal        responsive: 
    // Run animation on page load
    animateOnScroll();

    // Function to handle navbar appearance on scroll
    function handleNavbarScroll}, 1500); // Increased timeout to ensure page loads complete 2 },
        // Initialize all carousels and components 1 },
        in});
        initVideoModal();
        initQuantityButtons();
  vbar - Handle navbar appearance on scroll
    $(window).on('on('scroll',', function () {
            if ($videoSrc) {
            handleNavbarScroll();
                }    }
            handleBackToTopButt
    });
itialize on window load to ensure all assets are loaded
    $(window).on('load', function() {
            if ($videoSrc) {
                // Hide spinner when everything is loaded
                    ifwindowinner').length > 0) {
                $('#spinner').removeClass('show');
                               newVal;

                                     
            {     576: { items: 1 }, 1 },
    });

  click event
   
   p').on('click', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton() {
        $('html, body').animate({scrollTop: 0}, 1500, 'easeInOutExpo');
        r// Function to initialize all carousels
    function initCarousels() {
        // Testimonial-carousel").length > 0)         768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
            });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
               0: {      ] 1         576: { items: 1 },
                    1200: { items: 4         768: {     992: { items: 2 3 },},    responsiveClass: true,
                responsive: {
                      }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal0: { if ($(".tetu 1 },rn false;
    });

    // Function to handle navbar appearance on scroll
    function handleNavbarScrolln () {
        handleNavbarScroll();
        handleBackToTopButton();
    });

    // Initialize on window load to ensure all assets are loaded
    $(window).on('load', function() {
            if ($videoSrc) {
                       if ($videoSrc) {
            // Hide spinner when everything is loaded
        if ($('#spinner').len            $('#spinner').removeClass('show');
         { });    }

    
  cVlick event
    $('.back-to-top').on('click', fu

    // Function to handle back to top button visibility
    function handleBackToTopButton() {
                newVal;

            $('html, body').animate({scrollTop: 0}, 1500, 'easeInOutExpo');
                    return false;
    // Function to handle navbar appearance on scroll
    function handleNavbarScroll() {
        if ($(window).width() < 992) {
                                   
            if ($(wiwindowow).scrollTop() > 55) {
                    $('.fixed-top').addClass('shadow');
                            }     ele {
                        { items: 1 },
       p').removeClass('shadow');
                    }
                    576: { } else  1 },
         // Function to initialize all carousels
    function initCarousels() {
        // Testimonial-carousel").length > 0)         768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
            });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
               0: {      ] 1         576: { items: 1 },
                    1200: { items: 4         768: {     992: { items: 2 3 },},    responsiveClass: true,
                     }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal   responsive: {
                if ($(".t   if ($(window).scrollTop() > 55) {
                $('.fixed-top').addClass('shadow').css('top', -55);
            }else {
                $('.fixed-top').removeClass('shadow').css('top', 0);
        {  }
    }

    // Function to handle back to top button visibility
    function handleBackToTopButton() {
            if ($videoSrc) {
                if ($videoSrc) {
            if ($(window).scrollTop() > 300) {
            $('.back-to-top').fadeIn('slow');
                }
             else     0: { $( 1 },'.back-to-top').fadeOut('sl  // {Function to initialize all carousels 1 },
    function initCarousels() {
        // Testimonial carousel
                newVal;

            if ($(".vegetable-carousel").length > 0) {
                if ($(".testimonial-carousel").length > 0) {
                $(".testimonial-carousel").owlCarousel({
                 );           } true,
                        smartSpeed: 2000,
                           center: false,
                                dots: true,
                            loop: true,
                                    
            margin: 25,
                        nav true,
                        navTex: [
                                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                                        768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
            });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                ],
                responsiveClass: true,
                responsive: {     576: {     0: { items: 1 1 },1 },         576: { items: 1 },
                    768: {     992: { items: 2 3 },},    responsiveClass: true,
                    1200: { items: 4             responsive: {
                                    }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal0: { items: 1 },
                    576: { items: 1 },
                    768: { items: 1 },
                    992: { items: 2 },
                    1200: { items: 2 }
            if ($videoSrc) {
                    }
            });
        };

        // Vegetable carousel
        if ($(".vegetable-carousel").length > 0) {
            if ($videoSrc) {
                $(".vegetable-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                       dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                ],
                   responsiveClass: true,
                responsive: {
                    0: { items: 1 },
                    576: { items: 1 },
                            768: { items: 2 },
                       992: { items: 3 },
                    1200: { items: 4 }
                                }
            
                });
        }

        // Fruit carousel (if exists)
        if ($(".fruit-carousel").length > 0) {
            $(".fruit-carousel").owlCarousel({
                autoplay: true,
                smartSpeed: 1500,
                center: false,
                dots: true,
                loop: true,
                margin: 25,
                nav: true,
                navText: [
                    '<i class="bi bi-arrow-left"></i>',
                    '<i class="bi bi-arrow-right"></i>'
                ],
                responsiveClass: true,
                responsive: {
                    0: { items: 1 },
                    576: { items: 1 },
                    768: { items: 2 },
                    992: { items: 3 },
                    1200: { items: 4 }
                }
            });
        }
    }

    // Function to initialize video modal
    function initVideoModal() {
        var $videoSrc;
        $('.btn-play').on('click', function () {
            $videoSrc = $(this).data("src");
        });

        $('#videoModal').on('shown.bs.modal', function (e) {
            if ($videoSrc) {
                $("#video").attr('src', $videoSrc + "?autoplay=1&amp;modestbranding=1&amp;showinfo=0");
            }
        });

        $('#videoModal').on('hide.bs.modal', function (e) {
            if ($videoSrc) {
                $("#video").attr('src', $videoSrc);
            }
        });
    }

    // Function to initialize quantity buttons
    function initQuantityButtons() {
        $('.quantity button').on('click', function () {
            var button = $(this);
            var oldValue = button.parent().parent().find('input').val();
            var newVal;

            if (button.hasClass('btn-plus')) {
                newVal = parseFloat(oldValue) + 1;
            } else {
                if (oldValue > 0) {
                    newVal = parseFloat(oldValue) - 1;
                } else {
                    newVal = 0;
                }
            }
            
            button.parent().parent().find('input').val(newVal);
        });
    }

})(jQuery);

